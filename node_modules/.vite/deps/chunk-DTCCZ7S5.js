import {
  IN_BROWSER,
  refElement
} from "./chunk-K3XVJ5PM.js";
import {
  onBeforeUnmount,
  watch
} from "./chunk-JS67IWUO.js";
import {
  readonly,
  ref
} from "./chunk-R66XDDWT.js";

// node_modules/vuetify/lib/composables/resizeObserver.mjs
function useResizeObserver(callback) {
  const resizeRef = ref();
  const contentRect = ref();
  if (IN_BROWSER) {
    const observer = new ResizeObserver((entries) => {
      callback == null ? void 0 : callback(entries, observer);
      if (!entries.length)
        return;
      contentRect.value = entries[0].contentRect;
    });
    onBeforeUnmount(() => {
      observer.disconnect();
    });
    watch(resizeRef, (newValue, oldValue) => {
      if (oldValue) {
        observer.unobserve(refElement(oldValue));
        contentRect.value = void 0;
      }
      if (newValue)
        observer.observe(refElement(newValue));
    }, {
      flush: "post"
    });
  }
  return {
    resizeRef,
    contentRect: readonly(contentRect)
  };
}

export {
  useResizeObserver
};
//# sourceMappingURL=chunk-DTCCZ7S5.js.map
